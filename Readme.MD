E# Readme


<h1> Remember </h1>
<ul>

<li> year shift "dates were shifted into the future by a random offset for each individual patient ... resulting in stays which occur sometime between the years 2100 and 2200. Ref = https://www.nature.com/articles/sdata201635 </li>

</ul>



<h1> SQL notes </h1>



<h1> Data generation</h1>

Steps and explanation of each file is below

1. run mimic_3 build SQL, run extract_sql, import the 2 tables into CSV files
2. Run split_data.py (input is the CS3750_Group2.KY_ADM_LENGTH)
3. 




<h3> split_data.py </h3>
used to split adm_id's to train/val/test splits





<h2> aggregation.py </h2>
given the train/test/split infos generated by split_data.py, 
 
it will consume the MIMIC_FULL_BATCH.csv and generate the events_vocabulary


<h3> events_vocabulary.csv </h3>
line per line of vocab only, the vocabs are generated by concatenating EventType and ITEMID2.
Note that ItemID2 is the ITEMID of the event concatenated with some flag(IE highly_abnormal/slightly_abnormal/warning).




<h3> hadm_infos.csv </h3>
contains the data and records of all the hadms, it will be split into train/val/test based on the "dataSplit" contain

- hadmId
- admissionDuration = max(0 if x not in discharge_time else discharge_time[x], 0 if x not in death_time else death_time[x]). see below
- dischargeTime
- deathTime = -1 if admission doesn't have death_time otherwise it is the time when the patient died(MIMICIII's extracted sql "Time_To_Discharge" vs "EventStartTime").
- sepsisTime
- dataSplit = val/train/test



the training/train/val records which contains the 


